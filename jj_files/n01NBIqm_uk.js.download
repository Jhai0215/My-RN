;/*FB_PKG_DELIM*/

__d("IGDMessageButton.react",["IGDSIconButton.react","IGDSTooltip.react","PolarisIGCorePressable.react","PolarisUA","react","react-compiler-runtime","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e=["label","xstyle"],s,u=s||(s=o("react")),c=s.useState,d={button:{opacity:"x15vok9n",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},buttonWithHover:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xxk0z11",opacity:"x1hc1fzr",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(20),a,i,l;n[0]!==t?(a=t.label,l=t.xstyle,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l):(a=n[1],i=n[2],l=n[3]);var s=c(!1),m=s[0],_=s[1],f;n[4]!==l?(f=[d.button,d.buttonWithHover,l],n[4]=l,n[5]=f):f=n[5];var g;n[6]!==i||n[7]!==f?(g=u.jsx(r("IGDSIconButton.react"),babelHelpers.extends({},i,{xstyle:f})),n[6]=i,n[7]=f,n[8]=g):g=n[8];var h=g,y=r("useCurrentDisplayMode")(),C=y==="dark",b=C?"primary":"black",v;n[9]!==m?(v=o("PolarisUA").isMobile()?!1:m,n[9]=m,n[10]=v):v=n[10];var S,R;n[11]===Symbol.for("react.memo_cache_sentinel")?(S=function(){_(!0)},R=function(){_(!1)},n[11]=S,n[12]=R):(S=n[11],R=n[12]);var L;n[13]!==h?(L=u.jsx(r("PolarisIGCorePressable.react"),{onMouseEnter:S,onMouseLeave:R,onPress:p,children:h}),n[13]=h,n[14]=L):L=n[14];var E;return n[15]!==a||n[16]!==b||n[17]!==v||n[18]!==L?(E=u.jsx(r("IGDSTooltip.react"),{align:"middle",color:b,isVisible:v,position:"auto",tooltip:a,children:L}),n[15]=a,n[16]=b,n[17]=v,n[18]=L,n[19]=E):E=n[19],E}function p(){}l.default=m}),98);
__d("IGDMessageMoreContextMenuButton.react",["fbt","IGDMessageButton.react","IGDSLazyPopoverTrigger.react","IGDSMoreVerticalPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","MessengerWebUXLogger","ReQL","ReQLSuspense","react","react-compiler-runtime","requireDeferred","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=r("requireDeferred")("IGDMessageContextMenu.react").__setRef("IGDMessageMoreContextMenuButton.react");function m(t){var n,a=o("react-compiler-runtime").c(30),l=t.isMessageHidden,u=t.message,m=t.onMessageUnhide,p=t.outgoing,_=t.thread,f=(e||(e=r("useReStore")))(),g;a[0]!==f.tables.contacts||a[1]!==u.senderId?(g=function(){return o("ReQL").fromTableAscending(f.tables.contacts).getKeyRange(u.senderId)},a[0]=f.tables.contacts,a[1]=u.senderId,a[2]=g):g=a[2];var h;a[3]!==f||a[4]!==u.senderId?(h=[f,u.senderId],a[3]=f,a[4]=u.senderId,a[5]=h):h=a[5];var y=o("ReQLSuspense").useFirst(g,h,i.id+":57"),C=(n=y==null?void 0:y.name)!=null?n:y==null?void 0:y.secondaryName,b;a[6]===Symbol.for("react.memo_cache_sentinel")?(b=s._(/*BTDS*/"More"),a[6]=b):b=a[6];var v=b,S;a[7]!==C?(S=s._(/*BTDS*/"See more options for message from {sender name}",[s._param("sender name",C)]),a[7]=C,a[8]=S):S=a[8];var R=S,L=r("MessengerWebUXLogger").useInteractionLogger(),E=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),k;a[9]!==E||a[10]!==L||a[11]!==u.messageId?(k=function(t){L==null||L({eventName:"open_message_options",extraData:{message_id:u.messageId},flowInstanceId:E}),t()},a[9]=E,a[10]=L,a[11]=u.messageId,a[12]=k):k=a[12];var I;a[13]!==E||a[14]!==L||a[15]!==u.messageId||a[16]!==_?(I=[L,_,u.messageId,E],a[13]=E,a[14]=L,a[15]=u.messageId,a[16]=_,a[17]=I):I=a[17];var T=o("Int64Hooks").useCallbackInt64(k,I),D=p?"end":"start",x;a[18]!==l||a[19]!==u||a[20]!==m||a[21]!==_?(x={isMessageHidden:l,message:u,onMessageUnhide:m,thread:_},a[18]=l,a[19]=u,a[20]=m,a[21]=_,a[22]=x):x=a[22];var $;a[23]!==R||a[24]!==T?($=function(t,n){return c.jsx(r("IGDMessageButton.react"),{innerRef:t,label:v,onClick:function(){return T(n)},children:c.jsx(r("IGDSMoreVerticalPanoOutline24Icon.react"),{alt:R,color:"ig-primary-text","data-testid":void 0,size:16})})},a[23]=R,a[24]=T,a[25]=$):$=a[25];var P;return a[26]!==D||a[27]!==x||a[28]!==$?(P=c.jsx(r("IGDSLazyPopoverTrigger.react"),{align:D,popoverProps:x,popoverResource:d,popoverType:"menu",position:"above",children:$}),a[26]=D,a[27]=x,a[28]=$,a[29]=P):P=a[29],P}l.default=m}),226);
__d("IGDMessageNegativeFeedbackButton.react",["fbt","IGDMessageButton.react","IGDSDialogPlaceholder.react","IGDSThumbDownPanoOutline24Icon.react","JSResourceForInteraction","emptyFunction","react","react-compiler-runtime","useIGDSLazyDialog","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback;function d(e){var t=o("react-compiler-runtime").c(11),n=e.message,a=r("useIGDSToaster")(),i;t[0]!==a?(i=function(){a.add({message:s._(/*BTDS*/"Feedback has been submitted"),target:"bottom-left"})},t[0]=a,t[1]=i):i=t[1];var l=i,c=r("useMWV2SubmitFeedbackAction")(n.botResponseId,l),d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=r("JSResourceForInteraction")("MWV2SubmitNegativeFeedbackDialog.react").__setRef("IGDMessageNegativeFeedbackButton.react"),t[2]=d):d=t[2];var p=r("useIGDSLazyDialog")(d,m),_=p[0],f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Bad response"),t[3]=f):f=t[3];var g=f,h;t[4]!==n||t[5]!==c||t[6]!==_?(h=function(){_({message:n,onSubmit:c},r("emptyFunction"))},t[4]=n,t[5]=c,t[6]=_,t[7]=h):h=t[7];var y=h,C;t[8]===Symbol.for("react.memo_cache_sentinel")?(C=u.jsx(r("IGDSThumbDownPanoOutline24Icon.react"),{alt:g,color:"ig-primary-text",size:16}),t[8]=C):C=t[8];var b;return t[9]!==y?(b=u.jsx(r("IGDMessageButton.react"),{"data-testid":void 0,label:g,onClick:y,children:C}),t[9]=y,t[10]=b):b=t[10],b}function m(e){return u.jsx(r("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:e,size:"large"})}m.displayName=m.name+" [from "+i.id+"]",l.default=d}),226);
__d("IGDMessagePositiveFeedbackButton.react",["fbt","BotFeedbackKind","IGDMessageButton.react","IGDSThumbUpPanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","react-compiler-runtime","useIGDSToaster","useMWV2SubmitFeedbackAction"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo;function p(e){var t,n=o("react-compiler-runtime").c(15),a=e.message,i=r("useIGDSToaster")(),l;n[0]!==i?(l=function(){i.add({message:s._(/*BTDS*/"Feedback has been submitted"),target:"bottom-left"})},n[0]=i,n[1]=l):l=n[1];var c=l,d=r("useMWV2SubmitFeedbackAction")(a.botResponseId,c),m=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),p,_=(t=a.botResponseId)!=null?t:"",f;n[2]!==_?(f={botResponseId:_},n[2]=_,n[3]=f):f=n[3];var g;n[4]!==m||n[5]!==f?(g={extraData:f,flowInstanceId:m},n[4]=m,n[5]=f,n[6]=g):g=n[6],p=g;var h=p,y=r("MessengerWebUXLogger").useInteractionLogger(),C;n[7]===Symbol.for("react.memo_cache_sentinel")?(C=s._(/*BTDS*/"Good response"),n[7]=C):C=n[7];var b=C,v;n[8]!==h||n[9]!==y||n[10]!==d?(v=function(){d(r("BotFeedbackKind").BOT_FEEDBACK_POSITIVE),y==null||y(babelHelpers.extends({eventName:"submit_positive_feedback"},h))},n[8]=h,n[9]=y,n[10]=d,n[11]=v):v=n[11];var S=v,R;n[12]===Symbol.for("react.memo_cache_sentinel")?(R=u.jsx(r("IGDSThumbUpPanoOutline24Icon.react"),{alt:b,color:"ig-primary-text",size:16}),n[12]=R):R=n[12];var L;return n[13]!==S?(L=u.jsx(r("IGDMessageButton.react"),{"data-testid":void 0,label:b,onClick:S,children:R}),n[13]=S,n[14]=L):L=n[14],L}l.default=p}),226);
__d("IGDMessageReactionButton.react",["fbt","EmojiFormat.bs","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","MWLSThread","MWV2MessageReactionHooks","MessengerWebUXLogger","ReQL","ReQLSuspense","UnicodeUtils","cr:8247","cr:8257","emptyFunction","promiseDone","react","react-compiler-runtime","useIGDGlobalReactMessage","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useCallback;function p(t){var a,l,c=o("react-compiler-runtime").c(29),m=t.message,p=t.outgoing,_=t.setReactionsMenuOpen,f=(e||(e=r("useReStore")))(),g;c[0]!==f.tables.contacts||c[1]!==m.senderId?(g=function(){return o("ReQL").fromTableAscending(f.tables.contacts).getKeyRange(m.senderId)},c[0]=f.tables.contacts,c[1]=m.senderId,c[2]=g):g=c[2];var h;c[3]!==f||c[4]!==m.senderId?(h=[f,m.senderId],c[3]=f,c[4]=m.senderId,c[5]=h):h=c[5];var y=o("ReQLSuspense").useFirst(g,h,i.id+":46"),C=o("MWLSThread").useThread(m.threadKey),b=(a=y==null?void 0:y.name)!=null?a:y==null?void 0:y.secondaryName,v=(l=o("MWV2MessageReactionHooks").MWV2MessageReactionHooks.useSelectedReaction(m.messageId,m.threadKey))==null?void 0:l.reaction,S=r("useIGDGlobalReactMessage")(m,"reaction_tray"),R;c[6]!==v||c[7]!==S?(R=function(t){var e=o("EmojiFormat.bs").codeArrayToUnicode(t);if(v!=null){var n=(u||(u=o("UnicodeUtils"))).getCodePoints(v);e===v&&(e=void 0),n[0]===10084&&t[0]===10084&&(e=void 0)}r("promiseDone")(S(e,"reaction"))},c[6]=v,c[7]=S,c[8]=R):R=c[8];var L=R,E=p?"end":"start",k;c[9]===Symbol.for("react.memo_cache_sentinel")?(k=s._(/*BTDS*/"React"),c[9]=k):k=c[9];var I=k,T=r("MessengerWebUXLogger").useInteractionLogger(),D=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),x,$;c[10]!==D||c[11]!==T||c[12]!==m.messageId||c[13]!==C?(x=function(t){t(),C&&(T==null||T({eventName:"reaction_open_emoji_picker",extraData:{message_id:m.messageId},flowInstanceId:D}))},$=[C,T,m.messageId,D],c[10]=D,c[11]=T,c[12]=m.messageId,c[13]=C,c[14]=x,c[15]=$):(x=c[14],$=c[15]);var P=o("Int64Hooks").useCallbackInt64(x,$),N;c[16]!==b?(N=s._(/*BTDS*/"React to message from {sender name}",[s._param("sender name",b)]),c[16]=b,c[17]=N):N=c[17];var M=N,w;c[18]!==_?(w=function(t){return _(function(){return t})},c[18]=_,c[19]=w):w=c[19];var A=w,F=E,O;c[20]!==P||c[21]!==L||c[22]!==M||c[23]!==F?(O={align:F,altLabel:M,label:I,onClickAction:P,onClose:r("emptyFunction"),onSelect:L},c[20]=P,c[21]=L,c[22]=M,c[23]=F,c[24]=O):O=c[24];var B=O,W;return c[25]!==A||c[26]!==v||c[27]!==B?(W=n("cr:8257")?d.jsx(n("cr:8257"),babelHelpers.extends({},B,{selectedReaction:v!=null?(u||(u=o("UnicodeUtils"))).getCodePoints(v):null})):n("cr:8247")?d.jsx(n("cr:8247"),babelHelpers.extends({},B,{onVisibilityChange:A})):null,c[25]=A,c[26]=v,c[27]=B,c[28]=W):W=c[28],W}l.default=p}),226);
__d("IGDMessageReactionButtonLazyLoadPopoverTrigger.react",["IGDMessageButton.react","IGDMessageContextMenuItem.react","IGDSBox.react","IGDSFace2OutlineIcon.react","IGDSLazyPopoverTrigger.react","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("requireDeferred")("IGDComposerEmojiPicker.react").__setRef("IGDMessageReactionButtonLazyLoadPopoverTrigger.react");function c(e){var t=o("react-compiler-runtime").c(15),n=e.align,a=e.altLabel,i=e.closeAfterSelect,l=e.label,c=e.onClickAction,d=e.onClose,m=e.onSelect,p=e.onVisibilityChange,_=e.showPopoverArrow,f=e.useMenuItem,g=i===void 0?!0:i,h=_===void 0?!1:_,y=f===void 0?!1:f,C;t[0]!==g||t[1]!==d||t[2]!==m||t[3]!==h?(C={closeAfterSelect:g,onClose:d,onSelect:m,showPopoverArrow:h},t[0]=g,t[1]=d,t[2]=m,t[3]=h,t[4]=C):C=t[4];var b;t[5]!==a||t[6]!==l||t[7]!==c||t[8]!==y?(b=function(t,n){return y?s.jsx(r("IGDSBox.react"),{containerRef:t,children:s.jsx(r("IGDMessageContextMenuItem.react"),{icon:s.jsx(r("IGDSFace2OutlineIcon.react"),{alt:a,size:18}),label:l,onClick:function(){return c(n)}})}):s.jsx(r("IGDMessageButton.react"),{innerRef:t,label:l,onClick:function(){return c(n)},children:s.jsx(r("IGDSFace2OutlineIcon.react"),{alt:a,color:"ig-primary-text","data-testid":void 0,size:16})})},t[5]=a,t[6]=l,t[7]=c,t[8]=y,t[9]=b):b=t[9];var v;return t[10]!==n||t[11]!==p||t[12]!==C||t[13]!==b?(v=s.jsx(r("IGDSLazyPopoverTrigger.react"),{align:n,onVisibilityChange:p,popoverProps:C,popoverResource:u,popoverType:"dialog",position:"above",children:b}),t[10]=n,t[11]=p,t[12]=C,t[13]=b,t[14]=v):v=t[14],v}l.default=c}),98);
__d("IGDMessageReactionTrayButtonLazyLoadPopoverTrigger.react",["IGDMessageButton.react","IGDMessageContextMenuItem.react","IGDSBox.react","IGDSFace2OutlineIcon.react","IGDSLazyPopoverTrigger.react","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("requireDeferred")("IGDReactionTray.react").__setRef("IGDMessageReactionTrayButtonLazyLoadPopoverTrigger.react");function c(e){var t=o("react-compiler-runtime").c(14),n=e.align,a=e.altLabel,i=e.label,l=e.onClickAction,c=e.onClose,d=e.onSelect,m=e.onVisibilityChange,p=e.selectedReaction,_=e.useMenuItem,f=_===void 0?!1:_,g;t[0]!==c||t[1]!==d||t[2]!==p?(g={onClose:c,onSelect:d,selectedReaction:p},t[0]=c,t[1]=d,t[2]=p,t[3]=g):g=t[3];var h;t[4]!==a||t[5]!==i||t[6]!==l||t[7]!==f?(h=function(t,n){return f?s.jsx(r("IGDSBox.react"),{containerRef:t,children:s.jsx(r("IGDMessageContextMenuItem.react"),{icon:s.jsx(r("IGDSFace2OutlineIcon.react"),{alt:a,size:18}),label:i,onClick:function(){return l(n)}})}):s.jsx(r("IGDMessageButton.react"),{innerRef:t,label:i,onClick:function(){return l(n)},children:s.jsx(r("IGDSFace2OutlineIcon.react"),{alt:a,color:"ig-primary-text","data-testid":void 0,size:16})})},t[4]=a,t[5]=i,t[6]=l,t[7]=f,t[8]=h):h=t[8];var y;return t[9]!==n||t[10]!==m||t[11]!==g||t[12]!==h?(y=s.jsx(r("IGDSLazyPopoverTrigger.react"),{align:n,onVisibilityChange:m,popoverProps:g,popoverResource:u,position:"above",children:h}),t[9]=n,t[10]=m,t[11]=g,t[12]=h,t[13]=y):y=t[13],y}l.default=c}),98);
__d("IGDMessageReplyButton.react",["fbt","IGDInstamadilloUtils","IGDMessageButton.react","IGDSReplyPanoOutline24Icon.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useIGDMessageReply.react","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t){var n,a=o("react-compiler-runtime").c(14),l=t.message,u=t.onClose,d=t.thread,m=(e||(e=r("useReStore")))(),p;a[0]!==m.tables.contacts||a[1]!==l.senderId?(p=function(){return o("ReQL").fromTableAscending(m.tables.contacts).getKeyRange(l.senderId)},a[0]=m.tables.contacts,a[1]=l.senderId,a[2]=p):p=a[2];var _;a[3]!==m||a[4]!==l.senderId?(_=[m,l.senderId],a[3]=m,a[4]=l.senderId,a[5]=_):_=a[5];var f=o("ReQLSuspense").useFirst(p,_,i.id+":41"),g=(n=f==null?void 0:f.name)!=null?n:f==null?void 0:f.secondaryName,h=r("useIGDMessageReply.react")(l,d,u),y=h[0],C=h[1],b;a[6]!==g?(b=s._(/*BTDS*/"Reply to message from {sender name}",[s._param("sender name",g)]),a[6]=g,a[7]=b):b=a[7];var v=b,S=o("IGDInstamadilloUtils").isIGDDisappearingModeEnabled(d);if(!o("IGDInstamadilloUtils").shouldRenderMessageReply(l,S))return null;var R;a[8]!==v?(R=c.jsx(r("IGDSReplyPanoOutline24Icon.react"),{alt:v,color:"ig-primary-text","data-testid":void 0,size:16}),a[8]=v,a[9]=R):R=a[9];var L;return a[10]!==y||a[11]!==C||a[12]!==R?(L=c.jsx(r("IGDMessageButton.react"),{label:C,onClick:y,children:R}),a[10]=y,a[11]=C,a[12]=R,a[13]=L):L=a[13],L}l.default=d}),226);
__d("useMWPCanRemoveMessageGlobally",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","MWMessageDeliveryStatus","MWPThreadCapabilitiesContext","isDeliveryStatusErrorState"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),a=n.canUnsendMessage;if(r("isDeliveryStatusErrorState")(o("MWMessageDeliveryStatus").getFromSendStatus(t.sendStatusV2)))return!1;var i=t.cannotUnsendReason!=null?(e||(e=o("I64"))).equal(t.cannotUnsendReason,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!0;return a&&i}l.default=u}),98);
__d("useShowPersistentGenAIFeedbackButtons",["ReQL","ReQLSuspense","useGenAIFeedbackSubmissionStatus","useIsGenAiFeedbackEnabled","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var l=(e||(e=r("useReStore")))(),s=r("useIsGenAiFeedbackEnabled")(n,a),u=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableDescending(l.tables.messages.index("threadKeyPrimarySortKeySecondarySortKeyBotResponseId"),["botResponseId"]).getKeyRange(t)},[l,t],i.id+":43"),c=r("useGenAIFeedbackSubmissionStatus")(n);return s&&(u==null?void 0:u.botResponseId)===n&&c==null}l.default=s}),98);
__d("IGDMessageRowActions.react",["I64","IGDInstamadilloUtils","IGDMessageMoreContextMenuButton.react","IGDMessageReactionButton.react","IGDMessageReplyButton.react","LSBitFlag","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWEditMessageContext.react","MWPActor.react","MWPBaseMessageListRowActions.react","MessagingAttachmentType","PolarisUA","ReQL","ReQLSuspense","cr:3505","cr:3552","gkx","react","react-compiler-runtime","useGenAIFeedbackSubmissionStatus","useIGDIsCannesThread.react","useIGDIsGenAiReelsPlugin","useIGDMessageAttachment","useIsGenAiFeedbackEnabled","useIsReadOnlyFeatureLimited","useIsThreadBlocked","useMWPCanRemoveMessageGlobally","useReStore","useShowPersistentGenAIFeedbackButtons"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s,p=m.useContext,_=m.useState,f=r("gkx")("4253")===!0,g=[(c||(c=o("LSIntEnum"))).ofNumber(1),c.ofNumber(16384),c.ofNumber(2),c.ofNumber(4)];function h(t){var a=o("react-compiler-runtime").c(94),l=t.isMessageHidden,s=t.message,m=t.onMessageUnhide,p=t.outgoing,_=t.setReactionsMenuOpen,h=t.thread,y=(e||(e=r("useReStore")))(),C=o("MWPActor.react").useActor(),b=r("useIsThreadBlocked")(),v=r("useIsReadOnlyFeatureLimited")(),S=h.threadKey,R=h.threadType,L=s.displayedContentTypes,E=s.senderId,k;a[0]!==y.tables.contacts||a[1]!==E?(k=function(){return o("ReQL").fromTableAscending(y.tables.contacts,["blockedByViewerStatus"].concat(o("LSContactBitOffset").contactCapabilityFields)).getKeyRange(E)},a[0]=y.tables.contacts,a[1]=E,a[2]=k):k=a[2];var I;a[3]!==y||a[4]!==E?(I=[y,E],a[3]=y,a[4]=E,a[5]=I):I=a[5];var T=o("ReQLSuspense").useFirst(k,I,i.id+":101"),D=r("useIGDMessageAttachment")(y,s,S),x=D.attachment,$=D.hasMultipleAttachments,P=r("useIGDIsCannesThread.react")(S,R),N;a[6]!==C||a[7]!==E?(N=(u||(u=o("I64"))).equal(E,C),a[6]=C,a[7]=E,a[8]=N):N=a[8];var M=N,w=!M&&o("LSMessagingThreadTypeUtil").isOneToOne(R)&&T!=null?!(u||(u=o("I64"))).equal(T.blockedByViewerStatus,(c||(c=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)):!1,A;a[9]!==T?(A=T!=null&&o("LSContactBitOffset").has(66,T),a[9]=T,a[10]=A):A=a[10];var F=A,O;a[11]!==T?(O=T!=null&&o("LSContactBitOffset").has(18,T),a[11]=T,a[12]=O):O=a[12];var B=O,W;a[13]!==h?(W=o("LSMessagingThreadTypeUtil").isIGDMessageRequest(h),a[13]=h,a[14]=W):W=a[14];var q=W,U;a[15]!==L||a[16]!==M||a[17]!==B?(U=B&&!M&&g.findIndex(function(e){return(u||(u=o("I64"))).equal(L,e)})!==-1,a[15]=L,a[16]=M,a[17]=B,a[18]=U):U=a[18];var V=U,H;a[19]!==x?(H=x!=null&&((u||(u=o("I64"))).equal(x.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE))||(u||(u=o("I64"))).equal(x.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO))),a[19]=x,a[20]=H):H=a[20];var G=H,z;a[21]!==x?(z=x!=null&&(u||(u=o("I64"))).equal(x.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO)),a[21]=x,a[22]=z):z=a[22];var j=z,K;a[23]!==x?(K=x!=null&&(u||(u=o("I64"))).equal(x.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE)),a[23]=x,a[24]=K):K=a[24];var Q=K,X;a[25]!==L||a[26]!==G?(X=(u||(u=o("I64"))).equal(L,o("LSBitFlag").empty)&&!G,a[25]=L,a[26]=G,a[27]=X):X=a[27];var Y=X,J=r("useMWPCanRemoveMessageGlobally")(s)&&M,Z;a[28]!==x?(Z=x!=null&&(u||(u=o("I64"))).equal(x.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA))?x.isSharable:!0,a[28]=x,a[29]=Z):Z=a[29];var ee=Z,te=s.replySourceTypeV2!=null&&(c||(c=o("LSIntEnum"))).toNumber(s.replySourceTypeV2)===r("LSMessageReplySourceTypeV2").FORWARD,ne;a[30]!==L?(ne=(u||(u=o("I64"))).equal(L,(c||(c=o("LSIntEnum"))).ofNumber(1))||(u||(u=o("I64"))).equal(L,(c||(c=o("LSIntEnum"))).ofNumber(1033)),a[30]=L,a[31]=ne):ne=a[31];var re=ne,oe=!l&&(re||te&&!!s.text),ae;a[32]!==$||a[33]!==Q||a[34]!==j||a[35]!==b||a[36]!==G||a[37]!==l||a[38]!==q||a[39]!==Y||a[40]!==w||a[41]!==v||a[42]!==F||a[43]!==ee||a[44]!==s.displayedContentTypes||a[45]!==s.isUnsent||a[46]!==h?(ae=!l&&!b&&!F&&!q&&!v&&!s.isUnsent&&!Y&&o("LSThreadBitOffset").has(103,h)&&ee&&!w&&!(u||(u=o("I64"))).equal(s.displayedContentTypes,(c||(c=o("LSIntEnum"))).ofNumber(256))&&!G&&!j&&!Q&&!$,a[32]=$,a[33]=Q,a[34]=j,a[35]=b,a[36]=G,a[37]=l,a[38]=q,a[39]=Y,a[40]=w,a[41]=v,a[42]=F,a[43]=ee,a[44]=s.displayedContentTypes,a[45]=s.isUnsent,a[46]=h,a[47]=ae):ae=a[47];var ie=ae,le=r("useIsGenAiFeedbackEnabled")(s.botResponseId,f),se=r("useGenAIFeedbackSubmissionStatus")(s.botResponseId),ue=le&&se==null,ce;a[48]!==ue?(ce=!o("PolarisUA").isMobile()&&ue,a[48]=ue,a[49]=ce):ce=a[49];var de=ce,me;a[50]!==s||a[51]!==de?(me=de&&n("cr:3552")?d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:d.jsx(n("cr:3552"),{message:s})}):null,a[50]=s,a[51]=de,a[52]=me):me=a[52];var pe=me,_e;a[53]!==s||a[54]!==de?(_e=de&&n("cr:3505")?d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:d.jsx(n("cr:3505"),{message:s})}):null,a[53]=s,a[54]=de,a[55]=_e):_e=a[55];var fe=_e,ge;a[56]!==b||a[57]!==P||a[58]!==l||a[59]!==q||a[60]!==Y||a[61]!==v||a[62]!==F||a[63]!==s.isUnsent||a[64]!==de||a[65]!==h?(ge=!l&&!b&&!F&&!q&&!v&&o("LSThreadBitOffset").has(42,h)&&!s.isUnsent&&!Y&&!de&&!P,a[56]=b,a[57]=P,a[58]=l,a[59]=q,a[60]=Y,a[61]=v,a[62]=F,a[63]=s.isUnsent,a[64]=de,a[65]=h,a[66]=ge):ge=a[66];var he=ge,ye;a[67]!==h?(ye=o("LSThreadBitOffset").has(18,h),a[67]=h,a[68]=ye):ye=a[68];var Ce=ye,be=o("LSThreadBitOffset").has(139,h),ve;a[69]!==h?(ve=o("LSThreadBitOffset").has(169,h),a[69]=h,a[70]=ve):ve=a[70];var Se=ve,Re=!l&&!b&&!F&&!q&&!v&&!s.isUnsent&&!Y&&(be?Se:Ce)&&!de&&!P,Le=r("gkx")("24015"),Ee=Le||!Y&&(ie||J||oe||V),ke;a[71]!==Re||a[72]!==s||a[73]!==p||a[74]!==_?(ke=Re?d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:d.jsx(r("IGDMessageReactionButton.react"),{message:s,outgoing:p,setReactionsMenuOpen:_})}):null,a[71]=Re,a[72]=s,a[73]=p,a[74]=_,a[75]=ke):ke=a[75];var Ie=ke,Te;a[76]!==he||a[77]!==s||a[78]!==h?(Te=he?d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:d.jsx(r("IGDMessageReplyButton.react"),{message:s,thread:h})}):null,a[76]=he,a[77]=s,a[78]=h,a[79]=Te):Te=a[79];var De=Te,xe;a[80]!==l||a[81]!==s||a[82]!==m||a[83]!==p||a[84]!==Ee||a[85]!==h?(xe=Ee?d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:d.jsx(r("IGDMessageMoreContextMenuButton.react"),{isMessageHidden:l,message:s,onMessageUnhide:m,outgoing:p,thread:h})}):null,a[80]=l,a[81]=s,a[82]=m,a[83]=p,a[84]=Ee,a[85]=h,a[86]=xe):xe=a[86];var $e=xe,Pe;return a[87]!==$e||a[88]!==fe||a[89]!==p||a[90]!==pe||a[91]!==Ie||a[92]!==De?(Pe=d.jsxs(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsList,{outgoing:p,children:[pe,fe,Ie,De,$e]}),a[87]=$e,a[88]=fe,a[89]=p,a[90]=pe,a[91]=Ie,a[92]=De,a[93]=Pe):Pe=a[93],Pe}function y(e){var t=o("react-compiler-runtime").c(17),n=e.ariaHidden,a=e.focused,i=e.hidden,l=e.hovered,s=e.isMessageHidden,u=e.message,c=e.onMessageUnhide,m=e.outgoing,f=e.thread,g=n===void 0?!1:n,y=i===void 0?!1:i,C=_(!1),b=C[0],v=C[1],S=r("useIsGenAiFeedbackEnabled")(u.botResponseId,r("gkx")("4253")===!0),R=r("useGenAIFeedbackSubmissionStatus")(u.botResponseId),L=r("useIGDIsGenAiReelsPlugin")(u),E=r("useShowPersistentGenAIFeedbackButtons")(u.threadKey,u.botResponseId,r("gkx")("4253")===!0),k;t[0]!==R||t[1]!==S||t[2]!==L||t[3]!==E?(k=L?!1:o("PolarisUA").isMobile()?S&&R==null:E,t[0]=R,t[1]=S,t[2]=L,t[3]=E,t[4]=k):k=t[4];var I=k,T=l||a||b,D=p(o("MAWEditMessageContext.react").Context),x=D.editMessageData,$=x!=null,P=!y&&(T||I)&&!$,N=T===!0?"full":"partial",M;t[5]!==s||t[6]!==u||t[7]!==c||t[8]!==m||t[9]!==P||t[10]!==f?(M=P?d.jsx(h,{isMessageHidden:s,message:u,onMessageUnhide:c,outgoing:m,setReactionsMenuOpen:v,thread:f}):null,t[5]=s,t[6]=u,t[7]=c,t[8]=m,t[9]=P,t[10]=f,t[11]=M):M=t[11];var w;return t[12]!==g||t[13]!==m||t[14]!==N||t[15]!==M?(w=d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsContainer,{ariaHidden:g,outgoing:m,visibility:N,children:M}),t[12]=g,t[13]=m,t[14]=N,t[15]=M,t[16]=w):w=t[16],w}function C(t){var n=o("react-compiler-runtime").c(19),a=t.ariaHidden,l=t.focused,s=t.hidden,u=t.hovered,c=t.isMessageHidden,m=t.message,p=t.onMessageUnhide,_=t.outgoing,f=a===void 0?!1:a,g=s===void 0?!1:s,h=(e||(e=r("useReStore")))(),C;n[0]!==h.tables.threads||n[1]!==m.threadKey?(C=function(){return o("ReQL").fromTableAscending(h.tables.threads,["parentThreadKey","threadKey","threadSubtype","cannotUnsendReason","consistentThreadFbid","threadType"].concat(o("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(m.threadKey)},n[0]=h.tables.threads,n[1]=m.threadKey,n[2]=C):C=n[2];var b;n[3]!==h||n[4]!==m.threadKey?(b=[h,m.threadKey],n[3]=h,n[4]=m.threadKey,n[5]=b):b=n[5];var v=o("ReQLSuspense").useFirst(C,b,i.id+":445"),S;n[6]!==m?(S=o("IGDInstamadilloUtils").canMutateIGDMessage(m),n[6]=m,n[7]=S):S=n[7];var R=S,L;return n[8]!==f||n[9]!==R||n[10]!==l||n[11]!==g||n[12]!==u||n[13]!==c||n[14]!==m||n[15]!==p||n[16]!==_||n[17]!==v?(L=v!=null&&R?d.jsx(y,{ariaHidden:f,focused:l,hidden:g,hovered:u,isMessageHidden:c,message:m,onMessageUnhide:p,outgoing:_,thread:v}):null,n[8]=f,n[9]=R,n[10]=l,n[11]=g,n[12]=u,n[13]=c,n[14]=m,n[15]=p,n[16]=_,n[17]=v,n[18]=L):L=n[18],L}l.default=C}),98);