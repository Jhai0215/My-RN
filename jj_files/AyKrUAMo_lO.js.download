;/*FB_PKG_DELIM*/

__d("IGDChatTabsThreadContainer_SlideThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDChatTabsThreadContainer_SlideThread",selections:[{args:null,kind:"FragmentSpread",name:"IGDChatTabsThreadDetail_SlideThread"}],type:"SlideThread",abstractKey:null};a.exports=e}),null);
__d("IGDChatTabsThreadDetail_SlideThread.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDChatTabsThreadDetail_SlideThread",selections:[{args:null,kind:"FragmentSpread",name:"IGDComposerForCannes_Slide"}],type:"SlideThread",abstractKey:null};a.exports=e}),null);
__d("IGDChatTabsAvatar.react",["IGDAvatar.react","react","usePresenceUnifiedIsThreadActive"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=e.size,n=e.thread,o=r("usePresenceUnifiedIsThreadActive")(n.threadKey);return u(function(){return s.jsx(r("IGDAvatar.react"),{groupThreadSize:"tiny",isActive:o===!0,size:t!=null?t:"small",thread:n})},[o,t,n])}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("IGDChatTabsThreadHeaderContainer.react",["I64","IGDChatTabsAvatar.react","IGDChatTabsHeader.react","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","IGDNavigation","IGDProfileLinkOrFragment.react","IGDSBox.react","IGDThreadTitleAndPresence.react","LSMessagingThreadTypeUtil","react","useIGDChatTabsEntrypointUrl.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useCallback;function d(e){var t=e.thread,n=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),a=r("useIGDChatTabsEntrypointUrl.react")(),i=c(function(){n==null||n({threadKey:(s||(s=o("I64"))).to_string(t.threadKey),type:"close_tab"})},[n,t.threadKey]),l=o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType),d=o("IGDNavigation").useIGDNavigation(),m=c(function(){d.openInbox({threadKey:t.threadKey,threadType:t.threadType},"igdChatTabsThreadView",void 0,void 0,void 0,a)},[a,d,t.threadKey,t.threadType]),p=c(function(){n==null||n({threadKey:(s||(s=o("I64"))).to_string(t.threadKey),type:"close_tab"}),n==null||n({type:"open_view",view:o("IGDChatTabsStateTypes").IGDChatTabsView.ChatTabsThreadListView})},[n,t.threadKey]),_=u.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",children:[l?u.jsx(r("IGDProfileLinkOrFragment.react"),{thread:t,children:u.jsx(r("IGDChatTabsAvatar.react"),{thread:t})}):u.jsx(r("IGDChatTabsAvatar.react"),{thread:t}),u.jsx(r("IGDSBox.react"),{marginStart:3,maxWidth:168,children:u.jsx(r("IGDThreadTitleAndPresence.react"),{isMobile:!1,thread:t})})]});return u.jsx(r("IGDChatTabsHeader.react"),{headerContent:_,headerType:"thread_view",onClose:i,onExpand:m,onGoBack:p})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react"));function p(e){var t=e.connectionStatus,n=e.renderWrapper;return t==="Connected"?null:t==="Disconnected"?n(s._(/*BTDS*/"No internet connection")):t==="Connecting"?n(s._(/*BTDS*/"Connecting...")):null}p.displayName=p.name+" [from "+i.id+"]";function _(t){var n=t.renderWrapper,a=(e||(e=r("useReStore")))(),l=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableDescending(a.tables.connectivity_status).map(function(e){return(u||(u=o("I64"))).equal(e.internetConnectionState,(c||(c=o("LSIntEnum"))).ofNumber(r("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"})},[a],i.id+":54");return m.jsx(p,{connectionStatus:l!=null?l:"Connected",renderWrapper:n})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("IGDConnectionStatusCard.react",["CometPlaceholder.react","IGDSText.react","MWPChatConnectionStatusCard.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsx("div",{className:"xwwskcc x1q0q8m5 xso031l x1lliihq xz9dl7a xsag5q8 x2b8uid",children:s.jsx(r("IGDSText.react"),{color:"secondaryText",children:e})})}u.displayName=u.name+" [from "+i.id+"]";function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(r("MWPChatConnectionStatusCard.react"),{renderWrapper:u})}),e[0]=t):t=e[0],t}l.default=c}),98);
__d("useIGDChatTabsThreadViewAvoidParentScroll.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect;function d(e){var t=u(function(t){if(!(e==null||e.current==null)){var n=e.current.getScrollAreaElement();if(n instanceof HTMLElement){var r=n.scrollTop,o=n.scrollHeight,a=n.getBoundingClientRect().height,i=t.deltaY,l=i<0,s=function(t){t.stopPropagation(),t.preventDefault()};if(!l&&a+1>=o-r)return s(t);if(l&&r===0)return s(t)}}},[e]);c(function(){if(!(e==null||e.current==null)){var n=e.current.getScrollAreaElement();return n==null||n.addEventListener("wheel",t),function(){n==null||n.removeEventListener("wheel",t)}}},[t,e])}l.default=d}),98);
__d("IGDChatTabsThreadDetail.react",["CometPlaceholder.react","CometRelay","IGDBlockedBroadcastThreadDetail.react","IGDChatTabsThreadDetail_SlideThread.graphql","IGDChatTabsThreadHeaderContainer.react","IGDComposerForCannes.react","IGDConnectionStatusCard.react","IGDInteractionTraceAnnotations","IGDMessageRequestComposerBannerLoading.react","IGDNewMessageAnnouncementForScreenReaders.react","IGDOpenMessageListContainer.react","IGDSBox.react","IGDThreadlineContext","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWChatFocusComposerContext","MWLSDatabaseLazySync","MWPReplyContext.react","MWV2FileDropzone.react","WebUXLoggingSurfaceContextProvider","asyncToGeneratorRuntime","cr:10749","cr:1365","cr:4232","cr:7273","cr:8899","deferredLoadComponent","promiseDone","qex","react","requireDeferred","requireDeferredForDisplay","useIGDBroadcastChannelOpenThreadLogger","useIGDChatTabsThreadViewAvoidParentScroll.react","useIGDIsViewerAdmin","useMWAriaLabelForThread","useShouldShowTextOnlyComposerForInvite"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=u||(u=o("react")),m=u,p=m.useCallback,_=m.useContext,f=m.useEffect,g=m.useRef,h=r("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("IGDChatTabsThreadDetail.react"),y=(s=n("cr:7273"))!=null?s:n("cr:10749"),C=r("deferredLoadComponent")(r("requireDeferredForDisplay")("IGDMessageRequestComposerBanner.react").__setRef("IGDChatTabsThreadDetail.react")),b={main:{overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function v(t){var a=t.featureLimitsQueryRef,l=t.loadThreadlineQueries,s=t.slideThreadRef,u=t.thread,m=t.threadlineQueryRef,v=t.threadlineSuggestedQueryRef,S=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDChatTabsThreadDetail_SlideThread.graphql"),s),R=_(o("MWPReplyContext.react").MWPReplyContext),L=R.reply,E=_(o("IGDThreadlineContext").ThreadlineShouldShowContext),k=E.shouldShowThreadline;o("IGDInteractionTraceAnnotations").useAddThreadAnnotationToInteractionTraces(u),r("useIGDBroadcastChannelOpenThreadLogger")(u),n("cr:8899")(u);var I=o("MWCMThreadTypes.react").isIGBroadcastChannelThread(u.threadSubtype),T=r("useMWAriaLabelForThread")(u),D=o("LSMessagingThreadTypeUtil").isIGDMessageRequest(u),x=g(null),$=p(function(){var e;(e=x.current)==null||e.jumpToMostRecentMessage()},[]),P=d.jsx(r("CometPlaceholder.react"),{fallback:d.jsx(r("IGDMessageRequestComposerBannerLoading.react"),{}),name:i.id,children:d.jsx(C,{thread:u})}),N=d.jsx(r("IGDComposerForCannes.react"),{afterSendMessage:$,featureLimitsQueryRef:a,slideThreadRef:S,thread:u}),M=o("LSThreadBitOffset").has(139,u);f(function(){if(M){var e=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield h.load(),t=yield e();return o("MWLSDatabaseLazySync").sync(t,(c||(c=o("LSIntEnum"))).ofNumber(118))});return function(){return e.apply(this,arguments)}})();r("promiseDone")(e())}},[M]);var w=g(null),A=r("useShouldShowTextOnlyComposerForInvite")(u.threadKey,u.threadType);return r("useIGDChatTabsThreadViewAvoidParentScroll.react")(x),d.jsx(o("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:d.jsxs(o("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_view",children:[y&&d.jsx(y,{thread:u}),d.jsx(r("IGDChatTabsThreadHeaderContainer.react"),{thread:u}),d.jsxs(r("IGDSBox.react"),{accessibilityLabel:T,containerRef:w,"data-testid":void 0,direction:"row",flex:"grow",children:[d.jsxs(r("IGDSBox.react"),{flex:"grow",xstyle:b.main,children:[d.jsx(r("IGDConnectionStatusCard.react"),{}),d.jsxs(o("MWV2FileDropzone.react").MWV2FileDropzone,{isDisabled:A||L!=null,isMediaOnly:!o("LSThreadBitOffset").has(56,u)||r("qex")._("842")===!0,thread:u,children:[d.jsx(r("IGDOpenMessageListContainer.react"),{featureLimitsQueryRef:a,loadThreadlineQueries:l,ref:x,thread:u,threadMessageListRef:null}),I&&n("cr:1365")!=null?d.jsx(n("cr:1365"),{thread:u}):null,D?P:N]})]}),k&&n("cr:4232")&&m!=null&&v!=null?d.jsx(n("cr:4232"),{queryRef:m,suggestedQueryRef:v,thread:u}):null]}),d.jsx(r("IGDNewMessageAnnouncementForScreenReaders.react"),{thread:u})]})})}v.displayName=v.name+" [from "+i.id+"]";function S(e){var t=e.featureLimitsQueryRef,n=e.loadThreadlineQueries,a=e.slideThreadRef,i=e.thread,l=e.threadlineQueryRef,s=e.threadlineSuggestedQueryRef,u=r("useIGDIsViewerAdmin")(i.threadKey),c=i.threadSubtype!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(i.threadSubtype);return c&&!u?d.jsx(r("IGDBlockedBroadcastThreadDetail.react"),{thread:i}):d.jsx(v,{featureLimitsQueryRef:t,loadThreadlineQueries:n,slideThreadRef:a,thread:i,threadlineQueryRef:l,threadlineSuggestedQueryRef:s})}S.displayName=S.name+" [from "+i.id+"]",l.default=S}),98);
__d("IGDChatTabsThreadViewNullState.react",["IGDChatTabsHeader.react","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","IGDNullState.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=r("react")),c=(e||(e=o("react"))).useCallback;function d(){var e=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),t=c(function(){e==null||e({type:"reset_state"})},[e]),n=c(function(){e==null||e({type:"reset_state"}),e==null||e({type:"open_view",view:o("IGDChatTabsStateTypes").IGDChatTabsView.ChatTabsThreadListView})},[e]);return u.jsxs(u.Fragment,{children:[u.jsx(r("IGDChatTabsHeader.react"),{headerType:"thread_view_null_state",onClose:t,onGoBack:n}),u.jsx(r("IGDNullState.react"),{})]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("IGDChatTabsThreadContainer.react",["CometRelay","I64","IGDChatTabsThreadContainer_SlideThread.graphql","IGDChatTabsThreadDetail.react","IGDChatTabsThreadViewNullState.react","IGDThreadDetailContextWrapper.react","IGDThreadlineContainerQuery","IGDThreadlineContextProvider","LSFactory","LSThreadBitOffset","LSVerifyThreadRowExistsStoredProcedure","ReQL","ReQLSuspense","promiseDone","react","useReStore","useStableValue"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c,p=m.memo,_=m.useCallback,f=m.useEffect;function g(t){var a=t.featureLimitsQueryRef,l=t.slideThreadRef,c=t.threadKey,m=o("useStableValue").useStableI64(c),p=(s||(s=r("useReStore")))(),g=_(function(e){return p.runInTransaction(function(t){return r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(t),{syncGroup:(u||(u=o("I64"))).of_int32(1),threadKey:e})},"readwrite",void 0,void 0,i.id+":52")},[p]);f(function(){r("promiseDone")(g(m))},[m,g]);var h=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(p.tables.threads,["consistentThreadFbid","nullstateDescriptionText1","nullstateDescriptionText2","nullstateDescriptionText3","nullstateDescriptionType1","nullstateDescriptionType2","nullstateDescriptionType3","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadKey","threadSubtype","threadType","threadName","parentThreadKey","folderName","inviterId","snippetSenderContactId","memberCount","pauseThreadTimestamp","authorityLevel","threadStatus","eventStartTimestampMs","cannotReplyReason","themeFbid","isHidden","cannotUnsendReason","metadata","ongoingCallTimestampMs"].concat(o("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(m)},[p,m],i.id+":65"),y=o("CometRelay").useFragment(e!==void 0?e:e=n("IGDChatTabsThreadContainer_SlideThread.graphql"),l),C=o("CometRelay").useQueryLoader(o("IGDThreadlineContainerQuery").IGDThreadlineContainerChatQuery),b=C[0],v=C[1],S=o("CometRelay").useQueryLoader(o("IGDThreadlineContainerQuery").IGDThreadlineContainerSuggestedQuery),R=S[0],L=S[1],E={loadChatReels:v,loadSuggestedReels:L};return h!=null?d.jsx(r("IGDThreadDetailContextWrapper.react"),{thread:h,children:d.jsx(r("IGDThreadlineContextProvider"),{children:d.jsx(r("IGDChatTabsThreadDetail.react"),{featureLimitsQueryRef:a,loadThreadlineQueries:E,slideThreadRef:y,thread:h,threadlineQueryRef:b,threadlineSuggestedQueryRef:R})})}):d.jsx(r("IGDChatTabsThreadViewNullState.react"),{})}g.displayName=g.name+" [from "+i.id+"]";var h=p(g);l.default=h}),98);
__d("IGDChatTabMsys.react",["I64","IGDChatTabSingleTabContainer.react","IGDChatTabsThreadContainer.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t=e.featureLimitsQueryRef,n=e.threadKey;return u.jsx(r("IGDChatTabSingleTabContainer.react"),{"data-testid":void 0,children:u.jsx(r("IGDChatTabsThreadContainer.react"),{featureLimitsQueryRef:t,threadKey:(s||(s=o("I64"))).of_string(n)})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);