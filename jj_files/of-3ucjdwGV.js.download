;/*FB_PKG_DELIM*/

__d("IGDChatTabRootOffMsysQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24542272665449963"}),null);
__d("IGDChatTabRootOffMsysQuery$Parameters",["IGDChatTabRootOffMsysQuery_instagramRelayOperation","IGDEnableOffMsysComposerQE.relayprovider"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("IGDChatTabRootOffMsysQuery_instagramRelayOperation"),metadata:{},name:"IGDChatTabRootOffMsysQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__IGDEnableOffMsysComposerQErelayprovider:n("IGDEnableOffMsysComposerQE.relayprovider")}}};a.exports=e}),null);
__d("IGDChatTabRootOffMsys.entrypoint",["IGDChatTabRootOffMsysQuery$Parameters","IGDUqppSequenceIDTrackerSingleton","JSResourceForInteraction","useFeatureLimitsOffMsysQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=r("IGDUqppSequenceIDTrackerSingleton").getSequenceID(),n=e!=null?String(e):"",o={featureLimitsQueryRef:{parameters:r("useFeatureLimitsOffMsysQuery$Parameters"),variables:{}},slideThreadQueryRef:{parameters:r("IGDChatTabRootOffMsysQuery$Parameters"),variables:{min_uq_seq_id:n,thread_fbid:t.threadKey}}};return{queries:o}},root:r("JSResourceForInteraction")("IGDChatTabRootOffMsys.react").__setRef("IGDChatTabRootOffMsys.entrypoint")};l.default=e}),98);
__d("IGDChatTabRootEntrypointLoader.react",["CometRelay","FBLogger","IGDChatTabRootOffMsys.entrypoint","react","useCometRelayEntrypointContextualEnvironmentProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.tab,n=r("useCometRelayEntrypointContextualEnvironmentProvider")(),a=t.chatTabEntrypointRef;return a==null&&(r("FBLogger")("igd_web").warn("Missing chat tab entrypoint ref. Loading dynamically."),a=o("CometRelay").loadEntryPoint(n,r("IGDChatTabRootOffMsys.entrypoint"),{threadKey:t.threadKey})),s.jsx(o("CometRelay").EntryPointContainer,{entryPointReference:a,props:{threadKey:t.threadKey}})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("IGDChatTabsContainer.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","CometPlaceholder.react","IGDChatTabPlaceholder.react","IGDChatTabRootEntrypointLoader.react","IGDChatTabsStateContext.react","IGDSBox.react","JSResourceForInteraction","MWPVisibleMessageContext.react","gkx","lazyLoadComponent","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo,p=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDChatTabMsys.react").__setRef("IGDChatTabsContainer.react"));function _(e){var t=e.featureLimitsQueryRef,n=o("IGDChatTabsStateContext.react").useIGDChatTabsState(),a=n==null?void 0:n.openedTabs,l=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),c=d(function(){for(var e of a!=null?a:[]){var t=e[0];l==null||l({threadKey:t,type:"close_tab"})}},[l,a]),_=m(function(){return[{command:{key:r("CometKeys").ESCAPE},description:s._(/*BTDS*/"Close chat tab"),handler:c,triggerFromInputs:!0}]},[c]);if(a==null||a.size<=0)return null;var f=r("gkx")("10734"),g=Array.from(a.values()).map(function(e){return u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("IGDChatTabPlaceholder.react"),{threadKey:e.threadKey}),name:i.id,children:f?u.jsx(r("IGDChatTabRootEntrypointLoader.react"),{tab:e}):u.jsx(p,{featureLimitsQueryRef:t,threadKey:e.threadKey})},e.threadKey)});return u.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:_,children:u.jsx(r("IGDSBox.react"),{direction:"row",children:u.jsx(o("MWPVisibleMessageContext.react").MWPVisibleMessageContextProvider,{children:g})})})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("IGDChatTabsPresenceUnifiedClientSingleton",["BladerunnerHandlersPresencePresenceHandlerTypes","PresenceCapabilityBit","PresenceCommonPresenceCommonTypes","PresenceUnifiedClient","RealtimeNexusSessionDataTypes","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new(o("PresenceUnifiedClient")).PresenceUnifiedClient({appFamily:o("PresenceCommonPresenceCommonTypes").AppFamily.Instagram,pollingMode:o("BladerunnerHandlersPresencePresenceHandlerTypes").PollingMode.BuddyListPolling,appId:String(936619743392459),presenceReportingRequest:{capabilities:(e=o("PresenceCapabilityBit")).combine(e.VoiceIpEnabled,e.WebrtcEnabled,e.ReceivePublishWithEIMUID),mutationId:r("uuidv4")(),availability:o("RealtimeNexusSessionDataTypes").PresenceAvailability.IDLE}});l.IGDChatTabsPresenceUnifiedClientSingleton=s}),98);
__d("IGDChatTabsPresenceUnifiedContextProvider.react",["IGDChatTabsPresenceUnifiedClientSingleton","IGPresenceUnifiedContext.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.children,n=e.presenceSetupQueryRef;return s.jsx(r("IGPresenceUnifiedContext.react"),{client:o("IGDChatTabsPresenceUnifiedClientSingleton").IGDChatTabsPresenceUnifiedClientSingleton,presenceSetupQueryRef:n,children:t})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("IGDChatTabsPresenceUnifiedContextProviderWrapper.react",["IGDChatTabsPresenceUnifiedContextProvider.react","IGDChatTabsStateContext.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.children,n=e.presenceSetupQueryRef,a=o("IGDChatTabsStateContext.react").useIGDChatTabsState();return(a==null?void 0:a.activeView)==null||n==null?t:s.jsx(r("IGDChatTabsPresenceUnifiedContextProvider.react"),{presenceSetupQueryRef:n,children:t})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("IGDChatTabsThreadListContainer.react",["CometHideLayerOnEscape.react","CometPlaceholder.react","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","IGDChatTabsThreadListContainerPlaceholder.react","IGDSBox.react","JSResourceForInteraction","lazyLoadComponent","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGDChatTabsThreadListContent.react").__setRef("IGDChatTabsThreadListContainer.react")),d={hidden:{visibility:"xlshs6z",$$css:!0}};function m(){var e=o("IGDChatTabsStateContext.react").useIGDChatTabsState(),t=o("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),n=e==null?void 0:e.activeView,a=e==null?void 0:e.previousView,l=u(function(){t==null||t({type:"close_view",view:o("IGDChatTabsStateTypes").IGDChatTabsView.ChatTabsThreadListView})},[t]);return n===o("IGDChatTabsStateTypes").IGDChatTabsView.ChatTabsThreadListView||a===o("IGDChatTabsStateTypes").IGDChatTabsView.ChatTabsThreadListView?s.jsx(r("CometHideLayerOnEscape.react"),{onHide:l,children:s.jsx(r("IGDSBox.react"),{xstyle:a===o("IGDChatTabsStateTypes").IGDChatTabsView.ChatTabsThreadListView&&d.hidden,children:s.jsx(r("CometPlaceholder.react"),{fallback:s.jsx(r("IGDChatTabsThreadListContainerPlaceholder.react"),{}),name:i.id,children:s.jsx(c,{})})})}):null}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("IGDChatTabsContent.react",["IGDChatTabsContainer.react","IGDChatTabsPresenceUnifiedContextProviderWrapper.react","IGDChatTabsThreadListContainer.react","IGDTypingIndicatorClientContextProvider","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.queries,n=t.featureLimitsQueryRef,a=t.presenceSetupQueryRef;return s.jsx(r("IGDChatTabsPresenceUnifiedContextProviderWrapper.react"),{presenceSetupQueryRef:a,children:s.jsxs(o("IGDTypingIndicatorClientContextProvider").IGDTypingIndicatorClientContextProvider,{children:[s.jsx(r("IGDChatTabsThreadListContainer.react"),{}),s.jsx(r("IGDChatTabsContainer.react"),{featureLimitsQueryRef:n})]})})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);